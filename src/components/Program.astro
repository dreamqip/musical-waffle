---
import { Image } from 'astro:assets';
import Accordion from './Accordion.astro';
import AccordionItem from './AccordionItem.astro';

import pStock1 from '../assets/stocks/program/p-stock-1.jpg';
import pStock2 from '../assets/stocks/program/p-stock-2.jpg';
import pStock3 from '../assets/stocks/program/p-stock-3.jpg';

const programItems = [
  {
    value: 'first',
    header: 'Во-первых, деньги.',
    content: `Деньги обеспечивают финансовую безопасность и стабильность. Они позволяют обеспечивать себя и близких необходимыми ресурсами, доступом к образованию и возможностями для саморазвития.`,
    image: pStock1,
  },
  {
    value: 'second',
    header: 'Во-вторых, отношения.',
    content: `Здоровье является фундаментом для полноценной и счастливой жизни. Физическое и психическое здоровье позволяют человеку чувствовать себя сильным, энергичным и способным к достижению своих целей. Это также обеспечивает возможность наслаждаться жизнью и взаимодействовать с миром в полной мере.`,
    image: pStock2,
  },
  {
    value: 'third',
    header: 'В-третьих, здоровье.',
    content: `Здоровые и поддерживающие отношения с семьей, друзьями и коллегами способствуют эмоциональному благополучию и психологической устойчивости. Они предоставляют поддержку в трудные времена, радость в радостные моменты и могут значительно улучшить качество жизни.`,
    image: pStock3,
  }
];
---

<section
  class="mx-auto max-w-[1440px] scroll-mt-24 rounded-r-[32px] bg-stromboli-700 pb-12 pt-16 transition-all duration-200 sm:py-24 lg:rounded-[64px] xl:rounded-[128px]"
  id="program"
>
  <div class="container">
    <h2
      class="text-balance text-4xl font-extrabold text-stromboli-50 md:text-center md:text-5xl"
    >
      Моя авторская целительная программа “Триединство бытия: деньги, отношения,
      здоровье”
    </h2>

    <Accordion
      class="mt-8 grid grid-cols-1 gap-4 sm:mt-16 sm:gap-8 md:grid-cols-2 lg:grid-cols-3"
    >
      {
        programItems.map((item) => (
          <div class="relative flex min-h-[360px] overflow-hidden rounded-3xl">
            <Image
              class="absolute inset-0 z-0 h-full w-full rounded-3xl object-cover"
              src={item.image}
              height={360}
              alt=""
              aria-hidden
            />
            <div class="absolute inset-0 z-0 rounded-3xl bg-stromboli-950/50" />
            <AccordionItem
              class="relative flex flex-col self-end rounded-3xl bg-stromboli-600 p-4 transition-all duration-300 ease-in-out"
              value={item.value}
            >
              <span
                class="text-left text-base font-bold text-stromboli-50"
                slot="header"
              >
                {item.header}
              </span>
              <div
                class="size-8 rounded-full bg-reef-200 transition-transform"
                data-icon
                slot="icon"
              >
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 25 24"
                  class="fill-stromboli-700"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M8.07699 8.58008L12.667 13.1701L17.257 8.58008L18.667 10.0001L12.667 16.0001L6.66699 10.0001L8.07699 8.58008Z" />
                </svg>
              </div>
              <p class="pt-4 text-stromboli-200">{item.content}</p>
            </AccordionItem>
          </div>
        ))
      }
    </Accordion>
  </div>
</section>
